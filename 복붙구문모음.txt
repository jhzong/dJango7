※jquery 최신※
<script  src="http://code.jquery.com/jquery-latest.min.js"></script>

※fontawesome 최신(특수폰트)※
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css" integrity="sha512-10/jx2EXwxxWqCLX/hHth/vu2KY3jCF70dCQB8TSgNjbCVAC/8vai53GfMDrO2Emgwccf2pJqxct9ehpzG+MTw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

※cmd 서버실행 명령어※
python manage.py runserver

※settings.py STATICFILES 추가구문※
STATICFILES_DIRS=[
    os.path.join(BASE_DIR,'static'),
]

※base.html 만들때 settings.py 추가구문(templates)※
TEMPLATE_DIR = os.path.join(BASE_DIR,'templates')

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [TEMPLATE_DIR],<<이거추가
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

※models.py class 기본 frame※
class Table(models.Model):
    a=models.AutoField(primary_key=True)# AutoField=Sequence
    b=models.CharField(max_length=100)# CharField=VarChar2
    c=models.IntegerField(default=1)# IntegerField=Number
    d=models.IntegerField(default=1)# 입력값이 없으면 default값
    e=models.CharField(max_length=10)
    
    def __str__(self):
        return f"{self.a},{self.b},{self.c},{self.d},{self.e}"

※admin.py에 Table에 대한 관리가 권한 부여※
+from app_name.models import Table
+admin.site.register(Table)

※views.py 구문(write,list,view,index)※
from django.shortcuts import render, +redirect
+from django.urls import reverse
+from app_name.models import Table

1.write
def write(request):
    if request.method=='GET':
        return render(request, 'app_name/write.html')
    elif request.method=='POST':
        a=request.POST.get('a')
        b=request.POST.get('b')
        c=request.POST.get('c')
        d=request.POST.get('d')
        e=request.POST.getlist('e')
        qs=Table(a=a,b=b,c=c,d=d,e=e)
        qs.save()
        return redirect(reverse('app_name:list'))

2.list
def list(request):
    qs=Table.objects.all()
    context={'list':qs}
    return render(request, 'app_name/list.html',context)

3.view
def view(request,a):
    qs=app_name.objects.get(a=a)
    context={'A':qs}
    return render(request, 'app_name/view.html', context)

4.delete
def delete(request, a):
    qs=app_name.objects.get(a=a)
    qs.delete() # 삭제문
    return redirect(reverse('app_name:list'))

5.update
def update(request, a):
    if request.method=='GET':
        qs=app_name.objects.get(a=a)
        context={'A':qs}
        return render(request, 'app_name/update.html', context)
    elif request.method=='POST':
        a=request.POST.get('a')
        b=request.POST.get('b')
        c=request.POST.get('c')
        d=request.POST.get('d')
        e=request.POST.getlist('e')
        # models.py-Table에 수정내용 저장
        qs=app_name.objects.get(p=p)# 'P'rimary key
        qs.a=a
        qs.b=b
        qs.c=c
        qs.d=d
        qs.e=e
        qs.save()
        return redirect(reverse('app_name:list'))

※views.py session구문(검색,저장,삭제)※


※파일업로드 추가구문※
1. settings.py 추가
# url정보가 /media 로 들어오면 media폴더로 연결
MEDIA_URL = '/media/'
MEDIA_ROOT = os.path.join(BASE_DIR,'media')

2. urls.py 추가
from django.conf import settings
from django.conf.urls.static import static

urlpatterns += static(settings.MEDIA_URL,
             document_root = settings.MEDIA_ROOT )


3. *.html form 추가구문
enctype="multipart/form-data"

4. views.py 데이터 불러오기 구문 변경(POST->FILES)
bfile=request.FILES.get('bfile')

※이미지 업로드시 이미지 미리보기 함수※
function readURL(input){// 미리보기함수
    // 파일첨부(O)
    if(input.files && input.files[0]){
        var reader = new FileReader();
        reader.onload = function(e){
            document.getElementById('preview').src = e.target.result;
        };
        reader.readAsDataURL(input.files[0]);
    }else{
        // 파일첨부(X):빈공백
        document.getElementById('preview').src = '';
    }
}

※SESSION구문(저장/검색/삭제)※
1.저장
request.session['key']='value'
2.검색('key'의 'value'검색)
request.session.key
3.특정삭제('key'의 session 삭제)
del request.session['key']
4.전체삭제
request.session.clear()

# 공공 API 불러오기/출력 views.py
# 상단에 추가
import requests
import json
import pprint

def list(request):
    # 공공데이터 접속
    public_key='인증키'
    # page_no=requests.GET.get('page_no')
    page_no=1
    url=f"API응답주소?Key={public_key}&요청변수"
    # 공공데이터 정보 가져오기
    rel=requests.get(url)
    # 파일변환:str->json
    json_data=json.loads(rel.text)
    p_list=json_data['response']['body']['items']['item']
    # 테스트
    print('[json데이터]=>',p_list[0])    
    context = {'result':'성공','list':p_list}
    return render(request,'board/list.html',context)


from django.forms.models import model_to_dict
from django.http import JsonResponse,HttpResponse # 전송할때 Json타입으로 변경해서 전송
from django.core import serializers  # Json타입으로 전달된 데이터를 파이썬데이터(set)로 변경
from django.shortcuts import render
from django.forms.models import model_to_dict
from django.http import JsonResponse,HttpResponse # 전송할때 Json타입으로 변경해서 전송
from django.core import serializers  # Json타입으로 전달된 데이터를 파이썬데이터(set)로 변경


※페이지네이터(하단넘버링)※
from django.core.paginator import Paginator

paginator=Paginator(qs,10)->1페이지에 10개씩
def clist(request):
    qs=Board.objects.all().order_by('-bgroup','bstep')
    # 하단 페이지넘버링-------------------------------------
    # paginator는 요청페이지 번호가 있어야함.
    # 요청페이지 넘버:int타입
    page=int(request.GET.get('page',1))# 없으면 default=1
    paginator=Paginator(qs,10)
    list_qs=paginator.get_page(page)
    # //하단 페이지넘버링-----------------------------------

    context={'list':list_qs,'page':page}
    return render(request,'customer/clist.html',context)

※검색기능※
def clist(request):
    # 검색부분--------------------------------------------
    category=request.GET.get('category','')
    search=request.GET.get('search','')
    print('넘어온 데이터 => ',category,search)
    # //검색부분------------------------------------------
    
    if not search:
        qs=Board.objects.all().order_by('-bgroup','bstep')
    else:
        if category == 'btitle':
            qs=Board.objects.filter(btitle__contains=search)
        elif category == 'bcontent':
            qs=Board.objects.filter(bcontent__contains=search)
        elif category == 'all':
            qs=Board.objects.filter(Q(btitle__contains=search)|Q(bcontent__contains=search))
            
    
    # 하단 페이지넘버링-------------------------------------
    # paginator는 요청페이지 번호가 있어야함.
    # 요청페이지 넘버:int타입
    page=int(request.GET.get('page',1))# 없으면 default=1
    paginator=Paginator(qs,10)
    list_qs=paginator.get_page(page)
    # //하단 페이지넘버링-----------------------------------
    
    context={'list':list_qs,'page':page,'category':category,'search':search}
    return render(request,'customer/clist.html',context)

※상세페이지※
def cview(request, bno):
    qs=Board.objects.get(bno=bno)
    
    # 이전/다음글로 이동
    # 현재정렬 설정 => bgroup은 역순, bstep은 순차
    # 이전글
    prev_qs=Board.objects.filter(bgroup__lt=qs.bgroup).order_by('-bgroup','bstep').first()
    print('이전글=>',prev_qs)
    # 답글달기 기능이 있을때 이전글 query문
    # pre_qs = Board.objects.filter(Q(bgroup__lt=qs[0].bgroup,bstep__lte=qs[0].bstep)|Q(bgroup=qs[0].bgroup,bstep__gt=qs[0].bstep)).order_by("-bgroup","bstep").first()
    
    # 다음글
    next_qs=Board.objects.filter(bgroup__gt=qs.bgroup).order_by('bgroup','-bstep').first()
    print('다음글=>',next_qs)
    # 답글달기 기능이 있을때 다음글 query문
    # next_qs=Board.objects.filter(Q(bgroup__gt=qs[0].bgroup,bstep__gte=qs[0].bstep)|Q(bgroup=qs[0].bgroup,bstep__lt=qs[0].bstep)).order_by("bgroup","-bstep").first(
    
    context={'c':qs}
    return render(request,'customer/cview.html',context)

※차트 그리기※
<div>
  <canvas id="myChart"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const ctx = document.getElementById('myChart');

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
      datasets: [{
        label: '# of Votes',
        data: [12, 19, 3, 5, 2, 3],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
</script>